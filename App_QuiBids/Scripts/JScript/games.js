(function(a){games={};games.options={};games.defaultOptions={staticLocation:""};games.init=function(c,b){games.options=a.extend({},games.defaultOptions,b);switch(c){case"claim":this.initRating();this.initClaim();break;case"details":this.initScores();this.initFaq();this.initTabs();break;case"play":this.flashCheck();this.initFaq();this.initTabs();this.minimizeQbar();this.initScores();this.scrollToGame();this.disableSiteNav();break;case"index":this.initCarousel();this.initScores();this.initError();break;case"how":this.initScores();this.initFaq();this.initTabs();break;default:break}return this};games.initRating=function(){var b=function(c,e,d,g){for(var f=1;f<=e;f++){if(c=="show"){a("#rate-"+d+"-"+f+"-"+g).attr("src",games.options.staticLocation+"/site/images/gameplay/full-star.png")}else{a("#rate-"+d+"-"+f+"-"+g).attr("src",games.options.staticLocation+"/site/images/gameplay/blank-star.png")}}};a(".star_rating").hover(function(d){d.stopImmediatePropagation();var c=a(this).attr("id").split(/-/i);b("show",c[2],c[1],c[3])},function(d){d.stopImmediatePropagation();var c=a(this).attr("id").split(/-/i);b("hide",c[2],c[1],c[3])}).click(function(j){j.stopImmediatePropagation();var e=a(this).attr("id").split(/-/i);var d=parseInt(e[1]);var c=parseInt(e[2]);var g=parseInt(e[3]);var h=a(this);a.post("claim.php",{game_id:d,rating:c,play_id:g},function(k){var i=_t.display("thanks_for_rating","Thanks for rating!");h.parent().append('<p style="font-size: 12px; color: #888;">'+i+"</p>");b("show",c,d,g)});for(var f=1;f<=5;f++){a("#rate-"+d+"-"+f+"-"+e[3]).unbind().css("cursor","default")}})};games.initClaim=function(){a("a.claim").click(function(b){b.preventDefault();a("a.claim").unbind("click");a("a.claim").on("click",function(c){c.preventDefault()});a.post("claim.php",{action:"claim",id:a(this).attr("id")},function(c){window.location.href="/gameplay/claim.php?m="+c.message})})};games.initScores=function(){};games.initCarousel=function(){a(".games-available").carouFredSel({auto:false,items:{visible:5,minimum:0},scroll:{easing:"easeInOutExpo",duration:1500},prev:{button:"#leftArrow",key:"prev"},next:{button:"#rightArrow",key:"next"}})};games.initFaq=function(){a("#game-faq li a.help-question").click(function(){if(a(this).siblings(".help-answer").is(":visible")){return false}else{a(".help-answer").hide("fast");a(this).siblings(".help-answer").fadeIn("1000")}return false});a(".help-answer").hide()};games.initTabs=function(){a("#game-tabs .tabs li a").click(function(){var b=a(this).parent().attr("class");a("#game-tabs .tabItem").hide();a("#game-tabs .tabs li").addClass("notactive");a("#game-tabs .active").removeClass("active");a(this).parent().removeClass("notactive");a(this).parent().addClass("active");a("#game-tabs div."+b.substring(0,4)).show();a("#game-tabs ."+b.substring(0,4)).addClass("active");return false});a(".table-type").tabs()};games.launchGame=function(g,e){var f="/"+e+"/gameplay/popups/gameplays.php?id="+g;var b=_t.display("quibids_games_choose_multiplier","QuiBids Games: Choose a multiplier");if(g==5){var d=500;var c=400}else{var d=500;var c=300}a.ajax({url:f,cache:false,success:function(h){a("#popupShowUrl_contents").html(h);a("#popupShowUrl_closebutton").hide();a("#popupShowUrl").dialog({modal:true,title:b,width:d,height:c,closeOnEscape:true,resizable:false})}});return false};games.initGameLegend=function(){a(".game-legend li a").click(function(){return false});a(".game-legend li a").mouseenter(function(){var c=a(this).attr("title");var b=a(this).html();a(this).parent().append('<div class="tooltip" style="display: none;"><h4>'+b+"</h4><p>"+c+"</p></div>");a(".tooltip").fadeIn("fast")});a(".game-legend li a").mouseout(function(){var b=a(this).parent().attr("class");a("."+b+" .tooltip").fadeOut("fast",function(){a(this).remove()})})};games.flashCheck=function(){if(!swfobject.hasFlashPlayerVersion("10")){a("#the-game").hide();a("#no-flash").show()}else{if(!swfobject.hasFlashPlayerVersion("11")){a("#flash-upgrade").show()}}};games.minimizeQbar=function(){if(typeof QBar!="undefined"){QBar.minimize()}};games.playTimeout=function(){var b=20*60*1000;setTimeout("games.timeoutRedirect()",b)};games.timeoutRedirect=function(){window.location.href="/account/login.php?logout=true&return=/gameplay"};games.initError=function(){if(a("div.error").length>0){a("section#content").css("marginTop","50px")}};games.scrollToGame=function(){a("html, body").animate({scrollTop:a("#game-wrapper").offset().top},2000,loadFlash)};games.disableSiteNav=function(){if(navigator.appName=="Microsoft Internet Explorer"){a("#auction-menu").remove()}}})(jQuery);